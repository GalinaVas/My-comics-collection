<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Коллекция комиксов</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
  @font-face {
      font-family: "MyFont";
      src: url("MyFont.ttf") format("truetype");
      font-weight: normal;
      font-style: normal;
    }
	
    :root {
      --bg: #050816;
      --bg-elevated: #0b1020;
      --accent: #ffb545;
      --accent-soft: rgba(255, 181, 69, 0.12);
      --text: #f9fafb;
      --text-muted: #9ca3af;
      --border: #1f2937;
      --radius-lg: 18px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

   body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  color: var(--text);
  min-height: 100vh;

  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;

  padding: 20px;

  /* ФОН-КАРТИНКА, ЛЕЖИТ РЯДОМ С HTML */
  background-image: url("background.png");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}



    .app {
      width: 100%;
      max-width: 1300px;
      background: rgba(15, 23, 42, 0.65); /* темный, но прозрачный */
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 26px;
      box-shadow: 0 26px 70px rgba(0, 0, 0, 0.8);
      padding: 30px 40px;
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      gap: 10px;
      margin-bottom: 18px;
    }

    .title-block {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .title {
      font-size: 1.4rem;
      font-weight: 600;
      letter-spacing: 0.04em;
      text-transform: uppercase;
    }

    .subtitle {
      font-size: 0.82rem;
      color: var(--text-muted);
    }

    .badge {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      padding: 4px 9px;
      border-radius: 999px;
      border: 1px solid rgba(248, 250, 252, 0.25);
      background: radial-gradient(circle at top left, rgba(248, 250, 252, 0.08), rgba(15, 23, 42, 0.4));
      color: var(--text-muted);
      white-space: nowrap;
    }

    .library {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 14px;
    }

    .card {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px;
      background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 0.9));
      border-radius: 18px;
      border: 1px solid rgba(31, 41, 55, 0.95);
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease, background 0.16s ease;
    }

    .card:hover {
      transform: translateY(-2px);
      box-shadow: 0 14px 30px rgba(0, 0, 0, 0.6);
      border-color: rgba(251, 191, 36, 0.7);
      background: radial-gradient(circle at top left, rgba(251, 191, 36, 0.12), rgba(15, 23, 42, 0.98));
    }

    .card-cover {
      width: 110px;
      height: 160px;
      border-radius: 12px;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      flex-shrink: 0;
      border: 1px solid rgba(148, 163, 184, 0.9);
      box-shadow: 0 12px 26px rgba(0, 0, 0, 0.9);
    }

    .card-title {
      font-size: 0.96rem;
      font-weight: 500;
    }

    .card-meta {
      font-size: 0.76rem;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .card-text {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .hint-row {
      margin-top: 14px;
      font-size: 0.74rem;
      color: var(--text-muted);
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 6px;
    }

    .kbd {
      border-radius: 6px;
      border: 1px solid rgba(75, 85, 99, 1);
      padding: 2px 6px;
      font-size: 0.7rem;
      background: rgba(15, 23, 42, 0.96);
      box-shadow: 0 1px 0 rgba(255, 255, 255, 0.05);
    }

    /* Модальное окно */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.75);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 14px;
      z-index: 20;
    }

    .modal-backdrop.visible {
      display: flex;
    }

    .modal {
      width: 100%;
      max-width: 900px;
      max-height: 95vh;
      background: radial-gradient(circle at top, #020617 0, #020617 55%, #020617 100%);
      border-radius: 22px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.95);
      padding: 14px 14px 12px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      padding-bottom: 6px;
      border-bottom: 1px solid rgba(31, 41, 55, 0.9);
    }

    .modal-title-block {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .modal-title {
      font-size: 1rem;
      font-weight: 600;
    }

    .modal-subtitle {
      font-size: 0.78rem;
      color: var(--text-muted);
    }

    .page-indicator {
      font-size: 0.8rem;
      padding: 4px 9px;
      border-radius: 999px;
      border: 1px solid rgba(75, 85, 99, 0.95);
      background: rgba(15, 23, 42, 0.96);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .page-indicator span {
      font-variant-numeric: tabular-nums;
    }

    .btn-icon {
      border-radius: 999px;
      border: 1px solid rgba(75, 85, 99, 0.95);
      background: radial-gradient(circle at top, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 1));
      padding: 6px 10px;
      font-size: 0.86rem;
      color: var(--text);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
      cursor: pointer;
      outline: none;
      transition: transform 0.1s ease, box-shadow 0.14s ease, border-color 0.14s ease, background 0.16s ease;
    }

    .btn-icon:hover {
      transform: translateY(-1px);
      border-color: rgba(209, 213, 219, 0.9);
      box-shadow: 0 10px 24px rgba(0, 0, 0, 0.8);
      background: radial-gradient(circle at top, rgba(15, 23, 42, 1), rgba(15, 23, 42, 0.98));
    }

    .btn-icon:disabled {
      opacity: 0.45;
      cursor: default;
      box-shadow: none;
      transform: none;
    }

    .btn-close {
      font-size: 0.9rem;
      width: 30px;
      height: 30px;
      border-radius: 999px;
    }

    .modal-main {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 8px 4px;
      min-height: 0;
    }

    .modal-page-wrapper {
      position: relative;
      width: 100%;
      max-height: 72vh;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
    }

    .page-img {
      max-width: 100%;
      max-height: 72vh;
      border-radius: 14px;
      border: 1px solid rgba(55, 65, 81, 0.95);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 1);
      object-fit: contain;
      background: radial-gradient(circle at center, #020617, #020617 80%);
      display: block;
    }

    .arrow-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 34px;
      height: 34px;
      border-radius: 999px;
      border: 1px solid rgba(75, 85, 99, 0.95);
      background: radial-gradient(circle at top, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 1));
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 1rem;
      color: var(--text);
      transition: transform 0.1s ease, box-shadow 0.14s ease, border-color 0.14s ease, background 0.16s ease;
    }

    .arrow-btn:hover {
      transform: translateY(-50%) translateY(-1px);
      border-color: rgba(209, 213, 219, 0.9);
      box-shadow: 0 12px 28px rgba(0, 0, 0, 0.9);
    }

    .arrow-btn:disabled {
      opacity: 0.35;
      cursor: default;
      box-shadow: none;
      transform: translateY(-50%);
    }

    .arrow-left {
      left: 6px;
    }

    .arrow-right {
      right: 6px;
    }

    .modal-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      padding-top: 6px;
      border-top: 1px solid rgba(31, 41, 55, 0.9);
      font-size: 0.76rem;
      color: var(--text-muted);
      flex-wrap: wrap;
    }

    .modal-footer-left {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
      align-items: center;
    }

    .tag-pill {
      padding: 2px 7px;
      border-radius: 999px;
      border: 1px solid rgba(55, 65, 81, 0.95);
      background: rgba(15, 23, 42, 0.96);
    }

    @media (max-width: 860px) {
      .library {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
      .card {
        padding: 8px;
      }
      .card-cover {
        width: 60px;
        height: 86px;
      }
    }

    @media (max-width: 560px) {
      body {
        padding: 10px;
      }
      .app {
        padding: 14px 14px 16px;
      }
      .library {
        grid-template-columns: minmax(0, 1fr);
      }
      .header {
        flex-direction: column;
        align-items: flex-start;
      }
    }
	
	.main-title {
  font-size: 5rem;
  font-weight: 800;
  text-align: center;
  margin-top: 20px;
  margin-bottom: 35px;
  font-family: "MyFont", sans-serif;
  color: #000000;
  text-shadow: 0 0 12px rgba(255,255,255,0.2);
}

/* базовый стиль для мотыльков */
.decor {
  position: absolute !important;
  z-index: 5;
  opacity: 0.95;
  pointer-events: none;
}

/* ключевые кадры покачивания */
@keyframes float-up-down {
  0% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-18px);
  }
  100% {
    transform: translateY(0);
  }
}

/* ЛЕВЫЙ мотылёк – зона 1 (поднять и чуть левее) */
.decor-1 {
  top: -60px;              /* выше/ниже */
  left: -60px;            /* отрицательное = левее за край */
  width: 300px;
  animation: float-up-down 4s ease-in-out infinite;
}

/* ПРАВЫЙ мотылёк – зона 2 (ниже и ближе к краю) */
.decor-2 {
  bottom: -80px;          /* ниже */
  right: -60px;             /* ближе к правому краю */
  width: 340px;
  animation: float-up-down 5s ease-in-out infinite;
}


  </style>
</head>
<body>
<img src="moth.png" class="decor decor-1">
  <img src="moth2.png" class="decor decor-2">
  
  <h1 class="main-title">НИМБУС. ИСТОРИИ ОДНОГО МОТЫЛЬКА</h1>

    <div class="app">
    <header class="header">
      <div class="title-block">
        </div>
      <div class="badge">Коллекция комиксов</div>
    </header>

    <main class="library" id="library"></main>

    <div class="hint-row">
      <span>Нажмите на обложку, чтобы открыть комикс.</span>
      <span>
        Листать можно
        <span class="kbd">←</span>
        <span class="kbd">→</span>
        или кнопками на экране.
      </span>
    </div>
  </div>

  <!-- Модальное окно чтения -->
  <div class="modal-backdrop" id="modalBackdrop">
    <div class="modal" role="dialog" aria-modal="true">
      <div class="modal-header">
        <div class="modal-title-block">
          <div class="modal-title" id="modalTitle"></div>
          <div class="modal-subtitle" id="modalSubtitle">3 кадра, короткая история</div>
        </div>
        <div style="display:flex;align-items:center;gap:8px;">
          <div class="page-indicator">
            <span id="pageIndex">1</span>
            <span>/</span>
            <span id="pageCount">3</span>
          </div>
          <button class="btn-icon btn-close" id="btnClose" title="Закрыть (Esc)">×</button>
        </div>
      </div>

      <div class="modal-main">
        <div class="modal-page-wrapper">
          <button class="arrow-btn arrow-left" id="btnPrev" title="Предыдущая страница (←)">❮</button>
          <img id="pageImage" class="page-img" src="" alt="Страница комикса" />
          <button class="arrow-btn arrow-right" id="btnNext" title="Следующая страница (→)">❯</button>
        </div>
      </div>

      <div class="modal-footer">
        <div class="modal-footer-left" id="footerTags"></div>
        <div>
          Управление:
          <span class="kbd">←</span>
          <span class="kbd">→</span>
          <span class="kbd">Esc</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ===== НАСТРОЙКА КОМИКСОВ =====
    // У тебя 6 коротких комиксов по 3 картинки каждый.
    // Просто замени пути и названия ниже на свои.
    const comicsData = [
      {
        id: "comic-1",
        title: "Любитель света",
        description: "О том, как Нимбус очень любит свет",
        cover:"comics1/comic1cover.png", // обложка
        tags: ["мини", "история"],
        pages: [
           "comics1/comic1.1.png",
      "comics1/comic1.2.png",
      "comics1/comic1.3.png",
        ],
      },
      {
        id: "comic-2",
        title: "Моль против шерсти",
        description: "Миф или правда?",
        cover: "comics2/comic2cover.png",
        tags: ["юмор"],
        pages: [
          "comics2/comic2.1.png",
          "comics2/comic2.2.png",
          "comics2/comic2.3.png",
        ],
      },
      {
        id: "comic-3",
        title: "Сладкая жизнь",
        description: "Нимбус - сладкоежка, или что ест моль?",
        cover: "comics3/comic3cover.png",
        tags: ["фантастика"],
        pages: [
          "comics3/comic3.1.png",
          "comics3/comic3.2.png",
          "comics3/comic3.3.png",
        ],
      },
      {
        id: "comic-4",
        title: "Любитель ароматов",
        description: "Нюх как у собаки?",
        cover: "comics4/comic4cover.png",
        tags: ["драма"],
        pages: [
         "comics4/comic4.1.png",
          "comics4/comic4.2.png",
          "comics4/comic4.3.png",
		   "comics4/comic4.4.png",
        ],
      },
      {
        id: "comic-5",
        title: "Ночной герой",
        description: "Жаворонок или сова?",
        cover: "comics5/comic5cover.png",
        tags: ["экшен"],
        pages: [
           "comics5/comic5.1.png",
          "comics5/comic5.2.png",
          "comics5/comic5.3.png",
		  "comics5/comic5.4.png",
        ],
      },
      {
        id: "comic-6",
        title: "Нимбус кутюр",
        description: "Модник Нимбус",
        cover: "comics6/comic6cover.png",
        tags: ["эксперимент"],
        pages: [
         "comics6/comic6.1.png",
          "comics6/comic6.2.png",
          "comics6/comic6.3.png",
		   "comics6/comic6.4.png",
        ],
      },
    ];

    // ===== РЕНДЕР КАРТОЧЕК =====
    const libraryEl = document.getElementById("library");
    const modalBackdropEl = document.getElementById("modalBackdrop");
    const modalTitleEl = document.getElementById("modalTitle");
    const modalSubtitleEl = document.getElementById("modalSubtitle");
    const pageImageEl = document.getElementById("pageImage");
    const pageIndexEl = document.getElementById("pageIndex");
    const pageCountEl = document.getElementById("pageCount");
    const btnPrevEl = document.getElementById("btnPrev");
    const btnNextEl = document.getElementById("btnNext");
    const btnCloseEl = document.getElementById("btnClose");
    const footerTagsEl = document.getElementById("footerTags");

    let state = {
      currentComicIndex: 0,
      currentPageIndex: 0,
    };

    function renderLibrary() {
      libraryEl.innerHTML = "";

      comicsData.forEach((comic, index) => {
        const card = document.createElement("div");
        card.className = "card";
        card.dataset.index = index;

        const cover = document.createElement("div");
        cover.className = "card-cover";
        if (comic.cover) {
          cover.style.backgroundImage = `url("${comic.cover}")`;
        }

        const text = document.createElement("div");
        text.className = "card-text";

        const title = document.createElement("div");
        title.className = "card-title";
        title.textContent = comic.title || "Без названия";

        const meta = document.createElement("div");
        meta.className = "card-meta";
       meta.textContent = comic.description || "";

        text.appendChild(title);
        text.appendChild(meta);

        card.appendChild(cover);
        card.appendChild(text);

        card.addEventListener("click", () => {
          openComic(index, 0);
        });

        libraryEl.appendChild(card);
      });
    }

    // ===== МОДАЛКА И НАВИГАЦИЯ =====
    function openComic(comicIndex, pageIndex) {
      state.currentComicIndex = comicIndex;
      state.currentPageIndex = pageIndex;

      const comic = comicsData[comicIndex];
      if (!comic) return;

      modalTitleEl.textContent = comic.title || "Без названия";
      modalSubtitleEl.textContent = "";

      renderModalPage();
      renderFooterTags();

      modalBackdropEl.classList.add("visible");
    }

    function closeModal() {
      modalBackdropEl.classList.remove("visible");
    }

    function renderModalPage() {
      const comic = comicsData[state.currentComicIndex];
      const pages = Array.isArray(comic.pages) ? comic.pages : [];
      const total = pages.length;

      if (!total) {
        pageImageEl.src = "";
        pageIndexEl.textContent = "0";
        pageCountEl.textContent = "0";
        btnPrevEl.disabled = true;
        btnNextEl.disabled = true;
        return;
      }

      const index = Math.max(0, Math.min(state.currentPageIndex, total - 1));
      state.currentPageIndex = index;

      pageImageEl.src = pages[index];
      pageIndexEl.textContent = index + 1;
      pageCountEl.textContent = total;

      btnPrevEl.disabled = index === 0;
      btnNextEl.disabled = index === total - 1;
    }

    function renderFooterTags() {
      footerTagsEl.innerHTML = "";
      const comic = comicsData[state.currentComicIndex];
      if (!comic || !Array.isArray(comic.tags)) return;

      comic.tags.forEach((tag) => {
        const pill = document.createElement("span");
        pill.className = "tag-pill";
        pill.textContent = tag;
        footerTagsEl.appendChild(pill);
      });
    }

    // Слушатели модалки
    btnPrevEl.addEventListener("click", () => {
      if (btnPrevEl.disabled) return;
      state.currentPageIndex -= 1;
      renderModalPage();
    });

    btnNextEl.addEventListener("click", () => {
      if (btnNextEl.disabled) return;
      state.currentPageIndex += 1;
      renderModalPage();
    });

    btnCloseEl.addEventListener("click", () => {
      closeModal();
    });

    modalBackdropEl.addEventListener("click", (e) => {
      if (e.target === modalBackdropEl) {
        closeModal();
      }
    });

    // Клавиатура: Esc, ←, →
    window.addEventListener("keydown", (e) => {
      const isOpen = modalBackdropEl.classList.contains("visible");
      if (!isOpen) return;

      if (e.key === "Escape") {
        closeModal();
      } else if (e.key === "ArrowLeft") {
        if (!btnPrevEl.disabled) {
          state.currentPageIndex -= 1;
          renderModalPage();
        }
      } else if (e.key === "ArrowRight") {
        if (!btnNextEl.disabled) {
          state.currentPageIndex += 1;
          renderModalPage();
        }
      }
    });

    // Инициализация
    renderLibrary();
  </script>
</body>
</html>
